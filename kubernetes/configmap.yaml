apiVersion: v1
kind: Namespace
metadata:
  name: desarrollo-tt

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
  namespace: desarrollo-tt
data:
  # RDS Configuration
  DB_HOST: "terraform-20251218195825648400000001.c4to686sohft.us-east-1.rds.amazonaws.com"
  DB_PORT: "3306"
  
  # API Configuration
  API_PORT: "8000"
  API_WORKERS: "4"
  
  # Frontend Configuration
  NEXT_PUBLIC_API_BASE_URL: "http://api.jorgegallardo.studio"
  NEXT_PUBLIC_APP_NAME: "Desarrollo TT"
  
  # Logging
  LOG_LEVEL: "info"
  
  # Environment
  ENVIRONMENT: "production"
  
  # SendGrid Configuration
  SENDGRID_FROM_EMAIL: "no-reply@jorgegallardo.studio"
  
  # Backend API Configuration (Kubernetes Mode)
  K8S_MODE: "true"
  DOCKER_MODE: "false"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: api-config
  namespace: desarrollo-tt
data:
  # Database names for each API
  # Each API will receive DB_NAME pointing to its corresponding database
  DB_NAME_AACH: "aach_db"
  DB_NAME_CARABINEROS: "carabineros_db"
  DB_NAME_MTT: "mtt_db"
  DB_NAME_PRT: "prt_db"
  DB_NAME_SGD: "sgd_db"
  DB_NAME_SII: "sii_db"
  DB_NAME_SRCEI: "srcei_db"
  DB_NAME_TGR: "tgr_db"
  DB_NAME_BACK: "back_db"
  
  # APIs Endpoints (for service discovery in Kubernetes)
  # Las URLs apuntan al ALB para pasar por el Ingress con rutas correctas
  API_AACH: "http://api.jorgegallardo.studio/aach"
  API_CARABINEROS: "http://api.jorgegallardo.studio/carabineros"
  API_MTT: "http://api.jorgegallardo.studio/mtt"
  API_PRT: "http://api.jorgegallardo.studio/prt"
  API_SII: "http://api.jorgegallardo.studio/sii"
  API_SGD: "http://api.jorgegallardo.studio/sgd"
  API_TGR: "http://api.jorgegallardo.studio/tgr"
  API_SRCEI: "http://api.jorgegallardo.studio/srcei"
